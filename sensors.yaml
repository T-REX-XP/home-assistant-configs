### sensors.yaml
# https://home-assistant.io/components/sensor/

####################################################
### TIME/DATE                                   ####
####################################################

# https://www.home-assistant.io/components/sensor.time_date/
  - platform: time_date
    display_options:
      - 'time'
      - 'date'

####################################################
### CLIMATE                                     ####
####################################################

# https://www.home-assistant.io/components/sensor.wirelesstag/
  - platform: wirelesstag
    monitored_conditions:
      - temperature
      - humidity
      - light

####################################################
### WEATHER                                     ####
####################################################

# https://www.home-assistant.io/components/sensor.darksky/
#  - platform: darksky
#    api_key: !secret darksky_api_key
#    monitored_conditions:
#      - summary
#      - daily_summary
#      - temperature
#      - apparent_temperature
#      - humidity
#      - pressure
#      - precip_type
#      - precip_intensity
#      - precip_probability
#      - visibility
#      - cloud_cover
#      - wind_speed
#    units: us

####################################################
### SYSTEM.                                     ####
####################################################

# https://home-assistant.io/components/sensor.systemmonitor/
  - platform: systemmonitor
    resources:
      - type: disk_use_percent
        arg: /home
      - type: memory_use_percent
      - type: processor_use
      - type: since_last_boot
      - type: network_in
        arg: eth0
      - type: network_out
        arg: eth0
      - type: load_1m
      - type: load_5m
      - type: load_15m

# https://www.home-assistant.io/components/sensor.version/
  - platform: version
    name: Installed Version

# https://www.home-assistant.io/components/sensor.speedtest/
  - platform: speedtest
    minute: 30
    hour:
      - 0
      - 6
      - 12
      - 18
    monitored_conditions:
      - ping
      - download
      - upload

# https://home-assistant.io/components/sensor.synologydsm/
#  - platform: synologydsm
#    host: 192.168.0.7
#    port: 5000
#    ssl: false
#    username: !secret nas_username
#    password: !secret nas_password
#    monitored_conditions:
#      - cpu_total_load
#      - memory_real_usage
#      - network_up
#      - network_down
#      - disk_smart_status
#      - disk_temp
#      - volume_percentage_used

####################################################
### TEMPLATE.                                   ####
####################################################

# https://home-assistant.io/components/sensor.template/
  - platform: template
    sensors:
      wirelesstag_diamond_crown_humidor_battery_level_template:
        value_template: '{{ states.sensor.wirelesstag_diamond_crown_humidor_humidity.attributes.battery_level|float * 100 }}'
        unit_of_measurement: '%'
      wirelesstag_laundry_room_battery_level_template:
        value_template: '{{ states.sensor.wirelesstag_laundry_room_humidity.attributes.battery_level|float * 100 }}'
        unit_of_measurement: '%'
      since_last_boot_templated:
        value_template: >-
          {%- set slb = states.sensor.since_last_boot.state.split(' ') -%}
          {%- set count = slb | length -%}
          {%- set hms = slb[count - 1] -%}
          {%- set hms_trimmed = hms.split('.')[0] -%}
          {%- set hms_split = hms_trimmed.split(':') -%}
          {%- set hours = hms_split[0] | int -%}
          {%- if count == 3 -%}
            {{ slb[0] ~ ' ' ~ slb[1] ~ ' ' }}
          {%- endif -%}
          {%- if hours > 0 -%}
            {%- if hours == 1 -%}
              1 hour
            {%- else -%}
              {{ hours }} hours
            {%- endif -%}
          {%- endif -%}

####################################################
#                                                  #
#            END OF CONFIGURATION FILE             #
#                                                  #
####################################################
