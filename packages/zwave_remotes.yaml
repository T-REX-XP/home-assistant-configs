################################################################
## Packages / Z-Wave Remotes
################################################################

################################################
## Customize
################################################

homeassistant:
  customize:
    ################################################
    ## Node Anchors
    ################################################

    package.node_anchors:
      customize: &customize
        package: 'zwave_remotes'

      expose: &expose
        <<: *customize
        homebridge_hidden: false

    ################################################
    ## Automation
    ################################################

    automation.keyfob_button_pressed:
      <<: *customize
      friendly_name: "Keyfob Button Pressed"
      hidden: true

################################################
## Automation
################################################

automation:
  - alias: "Nightstand Light On"
    trigger:
      - platform: event
        event_type: zwave.scene_activated
        event_data:
          entity_id: zwave.fibaro_system_fgkf601_keyfob
          scene_id: 2
          scene_data: 7680
    action:
      - service: script.light_control
        data_template:
          entity_id: light.nightstand_lamp
          state: 'on'
          brightness: 178
          transition: 2
  - alias: "Nightstand Light Off"
    trigger:
      - platform: event
        event_type: zwave.scene_activated
        event_data:
          entity_id: zwave.fibaro_system_fgkf601_keyfob
          scene_id: 1
          scene_data: 7680
    action:
      - service: script.light_control
        data_template:
          entity_id: light.nightstand_lamp
          state: 'off'
          brightness: 178
          transition: 2


  - alias: "Dresser Light On"
    trigger:
      - platform: event
        event_type: zwave.scene_activated
        event_data:
          entity_id: zwave.fibaro_system_fgkf601_keyfob
          scene_id: 4
          scene_data: 7680
    action:
      - service: script.light_control
        data_template:
          entity_id: light.dresser_lamp
          state: 'on'
          brightness: 178
          transition: 2
  - alias: "Dresser Light Off"
    trigger:
      - platform: event
        event_type: zwave.scene_activated
        event_data:
          entity_id: zwave.fibaro_system_fgkf601_keyfob
          scene_id: 3
          scene_data: 7680
    action:
      - service: script.light_control
        data_template:
          entity_id: light.dresser_lamp
          state: 'off'
          brightness: 178
          transition: 2


  - alias: "Night Mode"
    trigger:
      - platform: event
        event_type: zwave.scene_activated
        event_data:
          entity_id: zwave.fibaro_system_fgkf601_keyfob
          scene_id: 5
          scene_data: 7680
    action:
      - service: script.good_night
